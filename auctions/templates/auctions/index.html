{% extends "auctions/layout.html" %}

{% block body %}

<div>
    <ul class="index-category-container">
        {% for value, label in category_choices %}
        <li class="nav-item">
            <a class="nav-link" href="{% url 'search_results' %}?category={{value}}">{{ label }}</a>
        </li>
        {% endfor %}

    </ul>

    
    
</div>
<hr>
    <div class="grid-container">


{% for listing in listings %}
    
    <div class="grid-listing">
        <div class="grid-listing-image">
            {% with listing.images.all|first as first_image %}
        {% if first_image %}
        <a href="{% url 'listing' listing.id %}">
        <img src="{{ first_image.image.url }}" alt="Image for {{listing.title}}">
        </a>
        {% else %}
        <p>Image not available</p>
        {% endif %}
        {% endwith %}
        </div>
        <div class="grid-listing-info-container">
            <div class="grid-listing-price">
                <p class="grid-listing-price">${{ listing.minimum_bid }}<p>
    
            </div>
            <div class="grid-listing-size">   
                <p>{{ listing.size}}</p>
                

            </div>
        </div>
        



    </div>
    

    
{% endfor %}
</div>


{% endblock %}